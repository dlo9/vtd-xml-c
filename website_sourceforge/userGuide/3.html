<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>VTD-XML User's Guide</title>
</head>

<body>

<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="1130" id="AutoNumber1" height="91">
  <tr>
    <td width="65%" height="1"><font face="Verdana" size="6">&nbsp;</font><b><font face="Tahoma" size="6">VTD-XML: 
    The Future of XML Processing</font></b></td>
    <td width="202%" height="1"><p align="center"><a href="http://sourceforge.net">
      <img src="https://sourceforge.net/sflogo.php?type=16&group_id=110612"
        width="210" height="62" border="0" alt="SourceForge.net Logo"></a></td>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="1130" id="AutoNumber2" height="23">
  <tr>
    <td width="23%" height="23" bgcolor="#000066"></td>
    <td width="23%" height="23" bgcolor="#000066">
    <p align="center">
    <a href="http://www.sf.net/projects/vtd-xml" style="text-decoration: none">
    <font size="2" face="Arial Black" color="#FFFFFF">Sourceforge Home</font></a></p>
    </td>
    <td width="17%" height="23" bgcolor="#000066">
    <p align="center"><font face="Arial Black" size="2" color="#FFFFFF">
    <a href="http://sourceforge.net/mail/?group_id=110612" style="text-decoration: none">
    <font color="#FFFFFF">Mailing Lists</font></a></font></td>
    <td width="17%" height="23" bgcolor="#000066">
    <p align="center"><font face="Arial Black">
    <a href="http://www.ximpleware.com/" style="text-decoration: none"><font color="#FFFFFF" size="2">XimpleWare</font></a></font></td>
    <td width="16%" height="23" bgcolor="#000066">
    <p align="center"><font face="Arial Black">
      <a href="http://sourceforge.net/project/showfiles.php?group_id=110612" style="text-decoration: none">
    <font color="#FFFFFF" size="2">Download</font></a></font></td>
    <td width="21%" height="23" bgcolor="#000066">
    </td>
  </tr>
</table>
<hr>
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="1130" id="AutoNumber3" height="1773">
  <tr>
    <td width="240" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/" style="text-decoration: none">VTD-XML Home</a></font></b></p>
    </blockquote>
    </td>
    <td width="807" height="1773" rowspan="14" valign="top" bgcolor="#E1E2D6">
    <blockquote>
    <h1 align="justify"><font face="Tahoma" size="5" color="#003300">&nbsp;</font></h1>
    <h2 align="justify"><font face="Lucida Sans Unicode">3. Navigate VTD</font></h2>
    <hr>
    <p align="justify"><font face="Lucida Sans Unicode" size="2">After parsing, VTDNav has 
    two views of VTD tokens: flat and hierarchical.</font></p>
    <ol>
      <li>
    <p align="justify"><font face="Lucida Sans Unicode"><b><i><font size="2">Flat view</font></i></b><font size="2">: 
    </font></font><font size="2" face="Lucida Sans Unicode">In 
    this view, one is able to access individual VTD records one after the other. 
    Because
    a VTD record is stored in array-like buffers, it is addressable using an 
    integer. As a result of
    this design, many member methods, e.g. <b> <i>getTokenLength</i>, <i>matchTokenString</i></b>, 
    takes the VTD index as
    the input. The following code snippet will print out token types, length and 
    offset of every VTD
    records.</font></p>
      <table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="86%" id="AutoNumber4" bgcolor="#C0C0C0" height="216">
        <tr>
          <td width="100%" height="216">
    <p align="justify"><b><font face="Tahoma">// Assuming parsing is successful<br>
    // vn is an instance of VTDNav <br>
    </font><font face="System">int size = vn.getTokenCount();</font></b></p>
    <p align="justify"><b><font face="System">for (int i= 0;i&lt;size;i++)<br>
    {<br>
&nbsp;&nbsp;&nbsp; System.out.println(&quot;token count =&gt; &quot;+i);<br>
&nbsp;&nbsp;&nbsp; System.out.println(&quot;token type =&gt;&quot; + vn.getTokenType(i));<br>
&nbsp;&nbsp;&nbsp; System.out.println(&quot;token offset =&gt; &quot;+ vn.getTokenOffset(i));<br>
&nbsp;&nbsp;&nbsp; System.out.println(&quot;token length =&gt; &quot;+ vn.getTokenLength(i));<br>
    }</font></b></p>
          </td>
        </tr>
    </table>
      <blockquote>
        <blockquote>
    <p align="justify"><font face="Tahoma">
    <br>
&nbsp;</font></p>
        </blockquote>
      </blockquote>
      </li>
      <li>
    <p align="justify"><font face="Lucida Sans Unicode"><i><b><font size="2">Cursor-based 
    hierarchical view</font></b></i><font size="2">: </font></font>
    <font face="Lucida Sans Unicode" size="2">In this view, one navigates the cursor across the 
    hierarchy. However, one should notice that this hierarchy is for elements 
    only; in other words, in our processing, <u><b>we only consider elements as part 
    of the hierarchy</b></u>, and treats text node, CDATA and attributes as belongings 
    of an element. <b><u>Also there is one and only one global cursor available. 
    Duplicate of this cursor is disallowed.</u></b> To record the position of a cursor, 
    one can either save the VTD index value or push the cursor value into a 
    global stack, and later pop it back. The following code snippet navigates a 
    very simple XML document and prints out value of interest.<br>
    &nbsp;</font></p>
      <table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="86%" id="AutoNumber5" bgcolor="#C0C0C0">
        <tr>
          <td width="98%"><font face="Tahoma">/* Sample XML<br>
    <b>&lt;contact&gt;<br>
    &lt;firstname&gt; Charley &lt;/firstname&gt;<br>
    &lt;lastname&gt; Wang &lt;/lastname&gt;<br>
    &lt;PhoneNumber location=&quot;home&quot;&gt; 100-100-100 &lt;/PhoneNumber&gt;<br>
    &lt;/contact&gt;<br>
    </b>*/<br>
    <br>
          <b>// After parsing, the cursor is always at the root element<br>
    <br>
          </b>
          </font>
          <b><font face="System">try {<br>
    if (vn.matchElement(&quot;contact&quot;)) // test the element name of the root<br>
    {<br>
    //Get first child element of the name &quot;firstname&quot; <br>
    if (vn.toElement(VTDNav.FIRST_CHILD,&quot;firstname&quot;)) <br>
    {<br>
&nbsp;&nbsp; int t = vn.getText();<br>
&nbsp;&nbsp; if (t!=-1) //test to see if the element has text node or not <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(&quot; first name ==&gt; &quot;+ 
    vn.toString(t));<br>
    <br>
&nbsp;&nbsp; // navigate to element &quot;PhoneNumber&quot;<br>
&nbsp;&nbsp; if (vn.toElement(VTDNav.NEXT_CHILD,&quot;PhoneNumber&quot;))<br>
&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int a = vn.getAttrVal(&quot;location&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int t = vn.getText();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (a!=-1 || t!= -1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
    System.out.println(&quot; Phone number @&quot;+ vn.toNormalizedString(a) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
    + &quot; is ==&gt; &quot; + vn.toNormalizedString(t));} <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp; }<br>
    }<font size="2"><br>
          </font>catch (NavException e){ // handle errors h</font><font face="Tahoma">ere}</font></b><font face="Tahoma"><br>
    &nbsp;</font></td>
        </tr>
    </table>
    <p align="justify"><font face="Lucida Sans Unicode" size="2">In the example shown above, the user moves the cursor 
    manually across the element hierarchy. The other mode of navigation is by 
    using &quot;AutoPilot.&quot; The example below shows how to perform a depth-first 
    document order node iteration. During the iteration, if one moves the cursor 
    for any reason, he must make sure that he moves the cursor back before the 
    next iteration. This is because VTDNav only have one global cursor, and when 
    the cursor changes position, it doesn't know (or care) whether it is moved 
    manually or by AutoPilot. <br>
    &nbsp;</font></p>
      <table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="86%" id="AutoNumber6" bgcolor="#C0C0C0">
        <tr>
          <td width="100%">
    <p align="justify"><b><font face="Tahoma">// assume vn is already available<br>
    t</font><font face="System">ry {<br>
&nbsp;&nbsp;&nbsp; AutoPilot ap = new AutoPilot(vn); // ap is going to move the 
    cursor<br>
&nbsp;&nbsp;&nbsp; ap.selectElement(&quot;*&quot;); // select every element (* matches all 
    strings)<br>
&nbsp;&nbsp;&nbsp; while( ap.iterate() ) // iterate will iterate thru all 
    elements<br>
&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  </font><font size="2" face="Tahoma">// put processing logic here
    </font><font face="System"> <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(&quot;Element name ==&gt; &quot; + 
    vn.toString(vn.getCurrentIndex()));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int t = vn.getText();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (t!=-1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(&quot;Text 
    content ==&gt; &quot; + vn.toNormalizedStr</font><font face="Tahoma">ing(t));<br>
    <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size="2">&nbsp; // make sure that the 
    cursor position entering the loop is the same <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // as the position 
    exiting the loop<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // One way to do is use 
    teh combination of vn.push() and vn.pop()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // The other is to 
    manually move the cursor back into the original place </font> <br>
&nbsp;</font><font face="System">&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; vn.toElement(VTDNav.ROOT);  </font>
    <font face="Tahoma" size="2">// reset the cursor to point to 
    the root element</font><font face="System"><br>
    } catch ( PilotException e){<br>
&nbsp;&nbsp;&nbsp;&nbsp; // handle exception here<br>
    } catch ( NavException e){<br>
&nbsp;&nbsp;&nbsp;&nbsp; // handle exception here<br>
    }</font></b></p>
          </td>
        </tr>
    </table>
      </li>
    </ol>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="18" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma">
      <a href="http://vtd-xml.sf.net/VTD.html" style="text-decoration: none">
      <font size="1">VTD </font> </a></font></b>
      <a href="http://vtd-xml.sf.net/VTD.html" style="text-decoration: none"><b>
      <font size="1" face="Tahoma">in 30 
      seconds</font></b></a></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="17" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/persistence.html" style="text-decoration: none">VTD+XML Format</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="233" align="left" bordercolor="#000000" valign="top" bgcolor="#E1E2D6">
    <blockquote>
      <p><b><font face="Tahoma" size="1">User's Guide</font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp; 
      <a href="http://vtd-xml.sf.net/userGuide/0.html" style="text-decoration: none">0. Introduction</a></font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp; 
      <a href="http://vtd-xml.sf.net/userGuide/1.html" style="text-decoration: none">1. Goal and Features</a>&nbsp;&nbsp;&nbsp; </font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp; 
      <a href="http://vtd-xml.sf.net/userGuide/2.html" style="text-decoration: none">2. How to process XML</a></font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp; 3. Navigate VTD</font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp; 
      <a href="http://vtd-xml.sf.net/userGuide/4.html" style="text-decoration: none">4.Classes/Interfaces and 
      Methods</a></font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp;
      <a href="http://vtd-xml.sf.net/userGuide/5.html" style="text-decoration: none">5. Comparison with DOM, 
      SAX, and Pull</a></font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp;<a href="http://vtd-xml.sf.net/userGuide/6.html" style="text-decoration: none">6. 
      Table for Token Types </a></font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp;<a href="http://vtd-xml.sf.net/userGuide/7.html" style="text-decoration: none">7. 
      The C version VTD-XML</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/DevGuide/0.html" style="text-decoration: none">Developer's Guide</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="1" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/technical/0.html" style="text-decoration: none">VTD: A Technical 
      Perspective</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/codeSample/cs1.html" style="text-decoration: none">Code Samples</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="9" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/faq.html" style="text-decoration: none">FAQ</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="9" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/involved.html" style="text-decoration: none">
      Getting Involved</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="17" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/links.html" style="text-decoration: none">Articles and Presentations</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a style="text-decoration: none" href="http://vtd-xml.sourceforge.net/benchmark1.html">Benchmark</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/javadoc/" style="text-decoration: none">API Doc</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/demo/demo1.html" style="text-decoration: none">Demo</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="240" height="1270" bordercolor="#0000FF">&nbsp;</td>
  </tr>
</table>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5147731-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
</body>

</html>
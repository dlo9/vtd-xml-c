<html>
<head>
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>VTD-XML User's Guide</title>
</head>

<body>

<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="1130" id="AutoNumber1" height="91">
  <tr>
    <td width="65%" height="1"><font face="Verdana" size="6">&nbsp;</font><b><font face="Tahoma" size="6">VTD-XML: 
    The Future of XML Processing</font></b></td>
    <td width="202%" height="1"><p align="center"><a href="http://sourceforge.net">
      <img src="https://sourceforge.net/sflogo.php?type=16&group_id=110612"
        width="210" height="62" border="0" alt="SourceForge.net Logo"></a></td>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="1130" id="AutoNumber2" height="23">
  <tr>
    <td width="23%" height="23" bgcolor="#000066"></td>
    <td width="23%" height="23" bgcolor="#000066">
    <p align="center">
    <a href="http://www.sf.net/projects/vtd-xml" style="text-decoration: none">
    <font size="2" face="Arial Black" color="#FFFFFF">Sourceforge Home</font></a></p>
    </td>
    <td width="17%" height="23" bgcolor="#000066">
    <p align="center"><font face="Arial Black" size="2" color="#FFFFFF">
    <a href="http://sourceforge.net/mail/?group_id=110612" style="text-decoration: none">
    <font color="#FFFFFF">Mailing Lists</font></a></font></td>
    <td width="17%" height="23" bgcolor="#000066">
    <p align="center"><font face="Arial Black">
    <a href="http://www.ximpleware.com/" style="text-decoration: none"><font color="#FFFFFF" size="2">XimpleWare</font></a></font></td>
    <td width="16%" height="23" bgcolor="#000066">
    <p align="center"><font face="Arial Black">
      <a href="http://sourceforge.net/project/showfiles.php?group_id=110612" style="text-decoration: none">
    <font color="#FFFFFF" size="2">Download</font></a></font></td>
    <td width="21%" height="23" bgcolor="#000066">
    </td>
  </tr>
</table>
<hr>
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="1130" id="AutoNumber3" height="1162">
  <tr>
    <td width="243" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/" style="text-decoration: none">VTD-XML Home</a></font></b></p>
    </blockquote>
    </td>
    <td width="817" height="1162" rowspan="14" valign="top" bgcolor="#E1E2D6">
    <blockquote>
    <h1 align="justify"><font face="Tahoma" size="5" color="#003300">&nbsp;</font></h1>
    <h1 align="justify"><font face="Lucida Sans" size="5" color="#003300">Users' 
    Guide</font></h1>
    <p align="justify"><font face="Lucida Sans" size="5" color="#003300">&nbsp;</font><font face="Lucida Sans" color="#003300"><a href="mailto:info@ximpleware.com">info@ximpleware.com</a></font></p>
    <hr>
    <p align="justify"><font face="Lucida Sans">&nbsp;A simplified version: <b>
    VTD-XML introduction and API overview (<a href="http://www.ximpleware.com/VTD-XML_intro.ppt">PowerPoint</a>,
    <a href="http://www.ximpleware.com/vtd-xml_intro.pdf">PDF</a>)</b></font></p>
    <p align="justify"><font face="Lucida Console">(<b>Separate code-only 
    VTD-XML tutorials are available in </b></font>
        <b><font face="Lucida Console">
    <a href="http://downloads.sourceforge.net/vtd-xml/c_tutorial_by_code_examples_2.3.zip?modtime=1203696056&big_mirror=0">C</a>,<a href="http://downloads.sourceforge.net/vtd-xml/Java_tutorial_by_code_examples_2.3.zip?modtime=1203622314&big_mirror=0">Java</a> 
    and
    <a href="http://downloads.sourceforge.net/vtd-xml/CSharp_tutorial_by_code_examples_2.3.zip?modtime=1203622328&big_mirror=0">C#</a>) </font></b></p>
    <h2 align="justify"><font face="Lucida Sans" color="#003300">0</font><font face="Lucida Sans" size="5" color="#003300">. 
    Introduction</font></h2>
    <h3 align="justify"><i><font face="Lucida Sans" color="#003300">Basic concept of VTD</font></i></h3>
    <p align="justify"><font face="Lucida Sans" size="2">For XML files&nbsp; that don't declare entity 
    in Document Type Declaration (e.g. SOAP), 
    tokenization can be done by only recording starting offset and length. To 
    make it work, one also needs to maintain XML in memory intact and 
    un-decoded. This has led to the design of a binary encoding specification we 
    called Virtual Token Descriptor (VTD).  VTD records are 64-bit integers that 
    encode the starting offsets, lengths, token types and nesting depths of tokens in the XML document.<br>
    <br>
    Specific to our current implementation, 
    a VTD record is a 64-bit integer in network byte order (big endian) with the 
    following bit-level layout:</font></p>
    <ul>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Starting offset</b>--30 
      bits (b29 ~ b0)</font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Length</b>--20 bits 
      (b51 ~ b32)</font><ul>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2">For some token types<br>
      * <i>Prefix length</i>: 9 bits (b51~ b43)<br>
      * <i>Qname length</i>: 11 bits (b42 ~ b 32)</font></li>
    </ul>
      </li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Nesting Depth</b>--8 
      bits (b59~b52) -- Maximum value is 2^8-2 = 254</font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Token type</b>--4 bits 
      (b63~b60): more details on page 6.</font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Reserved bit</b>--2 
      bits (b31: b30) are reserved for a tri-state variable marking namespaces.</font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Unit</b>--Because the 
      processing model internally stores XML un-decoded, the unit for offset and length are in 
      raw character of the encoding format. For UTF-8 and ISO-8859, length 
      and offset are in bytes. They are in 16-bit words for UTF-16.</font></li>
    </ul>
    <h3 align="justify"><i><font face="Lucida Sans" size="4" color="#003300">Pros and 
    Cons of VTD</font></i></h3>
    <p align="justify"><font face="Lucida Sans" size="2">Because  VTD records are constant in length, XML processing based on VTD can potentially 
    have the following benefits:</font></p>
    <ul>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Conserving memory</b>: 
      <b>(1)</b>Because VTD records are not objects, it is not subject to per-object 
      memory overhead. <b>(2)</b>VTD storage can be bulk-allocated (i.e., using large 
      memory blocks): when allocating a large memory block to store 1024 VTD 
      tokens, one only incurs the per-array memory overhead once, essentially 
      reducing the per-record overhead to almost nothing. </font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>High Performance</b>: 
      <b>(1)</b> Using VTD we attempt to achieve high performance in parsing, which is a 
      by-product of VTD's memory conserving features: Less memory usage means 
      less amount of memory is allocated. <b>(2)</b> Large memory blocks are faster to 
      allocate and GC than many discrete objects. Please keep in mind that we 
      are in the early stage of this technology. So further improvements on 
      performance and usability should be expected.</font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Inherent Persistence</b>: 
      VTD records can be persisted on disk or transmitted along  XML to 
      improve XML processing throughput.</font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Incremental Update</b>: 
      This feature is well-explained in a recently article <br>
      </font><font face="Lucida Sans" color="#003300" size="2">
      <a href="http://www.xml.com/pub/a/2004/05/19/parsing.html">
      http://www.xml.com/pub/a/2004/05/19/parsing.html</a></font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Cut, Paste, Split 
      and Assemble</b></font></li>
    </ul>
    <p align="justify"><font face="Lucida Sans" size="2">At the same time, one needs to be aware 
    of the some of the limitations of VTD:</font></p>
    <ul>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Upper limits of various 
      fields</b>: (1) For starting tags (the max Qname length is 2048; the 
      prefix 512), overflow conditions result in parse exceptions. For other 
      tokens (upper limit is 1M), one can potentially break a long token into 
      multiple shorter ones.(2) Depth field overflow condition results in parse 
      exceptions. (3) Starting offset: Currently the biggest document supported 
      is 1G characters (1G bytes or 2G bytes, depending on actual document 
      encoding). </font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Limit of Bit-level 
      layout</b>: It is possible that one needs to rearrange bit-level layout to 
      meet actual processing requirement.</font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>VTD Token length limit</b>: 
      Currently a VTD record is 64-bit in length. One can add another 32 bit if 64 bits are not 
      enough.</font></li>
      <li>
      <p align="justify"><font face="Lucida Sans" size="2"><b>Entity support</b>: 
      Current Implementation only supports built-in ones: <i>&amp;amps; &amp;gt; &amp;lt; 
      &amp;apos; &amp;quot;</i></font></li>
    </ul>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="18" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma">
      <a href="http://vtd-xml.sf.net/VTD.html" style="text-decoration: none">
      <font size="1">VTD </font> </a></font></b>
      <a href="http://vtd-xml.sf.net/VTD.html" style="text-decoration: none"><b>
      <font size="1" face="Tahoma">in 30 
      seconds</font></b></a></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="17" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/persistence.html" style="text-decoration: none">VTD+XML Format</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="203" align="left" bordercolor="#000000" valign="top" bgcolor="#E1E2D6">
    <blockquote>
      <p><b><font face="Tahoma" size="1">User's Guide</font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp; 0. Introduction</font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp; 
      <a href="http://vtd-xml.sf.net/userGuide/1.html" style="text-decoration: none">1. Goals and Features</a>&nbsp;&nbsp;&nbsp; </font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp; 
      <a href="http://vtd-xml.sf.net/userGuide/2.html" style="text-decoration: none">2. How to Process XML</a></font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp; 
      <a href="http://vtd-xml.sf.net/userGuide/3.html" style="text-decoration: none">3. Navigate VTD</a></font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp; 
      <a href="http://vtd-xml.sf.net/userGuide/4.html" style="text-decoration: none">4.Classes/Interfaces and Methods</a></font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp;
      <a href="http://vtd-xml.sf.net/userGuide/5.html" style="text-decoration: none">5. Comparison with DOM, 
      SAX, and Pull</a></font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp;
      <a href="http://vtd-xml.sf.net/userGuide/6.html" style="text-decoration: none">6. Table for Token Types
      </a></font></b></p>
      <p><b><font face="Tahoma" size="1">&nbsp;<a href="http://vtd-xml.sf.net/userGuide/7.html" style="text-decoration: none">7. 
      The C version VTD-XML</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/DevGuide/0.html" style="text-decoration: none">Developer's Guide</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="30" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/technical/0.html" style="text-decoration: none">VTD: A Technical 
      Perspective</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/codeSample/cs1.html" style="text-decoration: none">Code Samples</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="9" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/faq.html" style="text-decoration: none">FAQ</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="1" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/involved.html" style="text-decoration: none">
      Getting Involved</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="17" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/links.html" style="text-decoration: none">Articles and Presentations</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a style="text-decoration: none" href="http://vtd-xml.sourceforge.net/benchmark1.html">Benchmark</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="35" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/javadoc/" style="text-decoration: none">API Doc</a></font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="1" align="left" bordercolor="#0000FF" valign="top">
    <blockquote>
      <p><b><font face="Tahoma" size="1">
      <a href="http://vtd-xml.sf.net/demo/demo1.html" style="text-decoration: none">Demo</a> </font></b></p>
    </blockquote>
    </td>
  </tr>
  <tr>
    <td width="243" height="772" bordercolor="#0000FF">&nbsp;</td>
  </tr>
</table>

</body>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-868003-1";
urchinTracker();
</script>
</html>